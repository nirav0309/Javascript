<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Async/Await</title>
  </head>
  <body>
  </body>
  <script>
    
    // async function asyncFun(){
    //     const res = await ("Finished")
    //     console.log(res)
    // }
    // asyncFun()
    //     async function runProcess() {
    //   try {
    //     const response = await fetch('https://jsonplaceholder.typicode.com/todos/1');
    //     const json = await response.json();
    //     console.log(json);
    //   } catch (error) {
    //     console.log(error);
    //   }
    // }

    // // runProcess();
    // function getPromise(URL) {
    //   let promise = new Promise(function (resolve, reject) {
    //     let req = new XMLHttpRequest();
    //     req.open("GET", URL);
    //     req.onload = function () {
    //       if (req.status == 200) {
    //         resolve(req.response);
    //       } else {
    //         reject("There is an Error!");
    //       }
    //     };
    //     req.send();
    //   });
    //   return promise;
    // }

    // const ALL_POKEMONS_URL = "https://pokeapi.co/api/v2/pokemon?limit=50";
    // // const POKEMONS_BAD_URL = 'https://pokeapi.co/api/v2/pokemon-bad/';

    // // We have discussed this function already!
    // let promise = getPromise(ALL_POKEMONS_URL);
    // // let promise = getPromise(POKEMONS_BAD_URL);

    // const consumer = () => {
    //   promise.then(
    //     (result) => {
    //       console.log({ result }); // Log the result of 50 Pokemons
    //     },
    //     (error) => {
    //       // As the URL is a valid one, this will not be called.
    //       console.log("We have encountered an Error!"); // Log an error
    //     }
    //   );
    // };

    // consumer();
    // let loading = true;
    // loading && console.log("Loading...");

    // // Gatting Promise
    // promise = getPromise(ALL_POKEMONS_URL);

    // promise
    //   .finally(() => {
    //     loading = false;
    //     console.log(`Promise Settled and loading is ${loading}`);
    //   })
    //   .then((result) => {
    //     console.log({ result });
    //   })
    //   .catch((error) => {
    //     console.log(error);
    //   });

    //this code is correct or not need to check
    // async function fun() {
    //   try {
    //     const promise1 = new Promise((resolve, reject) => {
    //       const num1 = Math.random();
    //       if (num1 <= 0.5) {
    //         resolve("Promise1 is fulfilled!");
    //       } else {
    //         reject("Promise1 failed!");
    //       }
    //     });
    //     const promise2 = new Promise((resolve, reject) => {
    //       const num2 = Math.floor(Math.random() * 100);
    //       if (num2 >= 50) {
    //         resolve("Number is greater then 50: " + num2);
    //       } else {
    //         reject("Number is less then 50: " + num2);
    //       }
    //     });

    //     let P1Wait = await promise1;
    //     console.log("Output of promise1 :" + P1Wait);
    //     let P2wait = await promise2;
    //     console.log("Output of promise2: " + P2wait);
    //   } catch (e) {
    //     console.log(e);
    //   }
    // }
    // fun();

    //fetch data
    //   fetch("https://pokeapi.co/api/v2/pokemon?limit=50").then((res) =>
    //     console.log(res)
    //   );
    //   console.log("end of the script");

    //  async function api ()
    //   {
    //     const api = await fetch("https://pokeapi.co/api/v2/pokemon?limit=50");
    //     const data = await api.json();
    //     console.log(data)
    //   }
    //   api();

    // working
    // Promise.resolve().then(() => console.log(1));
    // setTimeout(() => console.log(2), 1000);

    // queueMicrotask(() => {
    //   console.log(3);
    //   queueMicrotask(() => console.log(4));
    // });
    // console.log(5);

    //not working
    // Promise.resolve().then(() => console.log(1));
    // setTimeout(() => console.log(2), 1000);

    //   (async() => {
    //   console.log(3);
    //   await
    //   (() => console.log(4));
    // })();
    // console.log(5);

    //pending
    // async function printNumbers() {
    //   // setTimeout(() => {
    //   //   console.log("performing some operation");
    //   // }, 1000);

    //   return new Promise((resolve)=> {
    //     setTimeout(() => {
    //       console.log("resolved")
    //     }, 3000);
    //   })
    //   await Promise;
    // }
    // printNumbers()
    // .then((val) => console.log("promise completed"+ val));

    // let code = " ";
    // let codeWithSemicolons = code.replace(/([^;\n])$/, "$1;");

    // console.log(codeWithSemicolons);
  </script>
</html>
